"use strict";(self["webpackChunkvue2_0"]=self["webpackChunkvue2_0"]||[]).push([[433],{433:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-title"},[t._v("区域管理")]),e("div",{staticClass:"user-btn"},[e("el-button",{staticClass:"user-btn-inp",attrs:{type:"primary"},on:{click:function(e){return t.openModal("add")}}},[t._v("新增")])],1),e("div",{staticClass:"table-list"},[e("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{property:"id",label:"id"}}),e("el-table-column",{attrs:{property:"name",label:"区域"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.editArea(a.row)}}},[t._v(" 编辑 ")]),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteArea(a.row)}}},[t._v(" 删除 ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":t.form.pageNumber,layout:"prev, pager, next,jumper",total:t.total,"page-size":t.form.pageSize},on:{"current-change":t.currentChange}})],1)],1),e("el-dialog",{attrs:{title:("add"==t.type?"新增":"编辑")+"区域",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",[e("el-form",{ref:"form",attrs:{model:t.form2,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"区域名称",required:""}},[e("el-input",{attrs:{placeholder:"请输入区域名称"},model:{value:t.form2.name,callback:function(e){t.$set(t.form2,"name",e)},expression:"form2.name"}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.areaBtn}},[t._v("确 定")])],1)])],1)},s=[],r=a(9710),l={data(){return{tableData:[],form:{pageNumber:1,pageSize:10,isPaging:!0},form2:{name:""},dialogVisible:!1,total:0,type:""}},created(){this.getList()},methods:{currentChange(t){this.form.pageNumber=t,this.getList()},getList(){(0,r.Hu)(this.form).then((t=>{if(0==t.data.code){this.total=t.data.data.amount,this.tableData=t.data.data.rows.map((t=>({...t})));const e=t.data.data.rows.map((t=>({label:t.name,value:t.id})));this.$store.commit("updateAddressList",e)}else this.total=0,this.tableData=[],this.form.pageNumber=1}))},openModal(t){this.type=t,this.dialogVisible=!0},areaBtn(){"add"==this.type?this.addArea():this.upDateArea()},addArea(){(0,r.u2)({name:this.form2.name}).then((t=>{0==t.data.code?(this.$message.success("新增成功"),this.getList(),this.dialogVisible=!1,this.form2.name=""):this.$message.error(`${t.data.message},${t.data.detail}`)}))},deleteArea(t){this.$confirm("此操作将永久删除该区域, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.areaDelete(t)})).catch((()=>{}))},areaDelete(t){(0,r.Lg)({id:t.id}).then((t=>{0==t.data.code?(this.$message.success("删除成功"),this.getList()):this.$message.error(`${t.data.message},${t.data.detail}`)}))},editArea(t){this.type="edit",this.dialogVisible=!0,this.form2.name=t.name,this.editId=t.id},upDateArea(){(0,r.uA)({id:this.editId,name:this.form2.name}).then((t=>{0==t.data.code?(this.$message.success("更新成功"),this.dialogVisible=!1,this.form2.name="",this.getList()):this.$message.error(`${t.data.message},${t.data.detail}`)}))}}},n=l,o=a(1001),d=(0,o.Z)(n,i,s,!1,null,"658bb2f4",null),u=d.exports}}]);
//# sourceMappingURL=433.c6776b3d.js.map