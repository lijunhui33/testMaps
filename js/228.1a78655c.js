"use strict";(self["webpackChunkvue2_0"]=self["webpackChunkvue2_0"]||[]).push([[228],{2228:function(t,e,a){a.r(e),a.d(e,{default:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-title"},[t._v("活动列表")]),e("div",{staticClass:"user-btn"},[e("el-button",{staticClass:"user-btn-inp",attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1),e("div",{staticClass:"table-list"},[e("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{property:"id",label:"id"}}),e("el-table-column",{attrs:{property:"title",label:"活动标题"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.previewDuty(a.row)}}},[t._v(" 预览 ")]),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.editDuty(a.row)}}},[t._v(" 编辑 ")]),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteDuty(a.row)}}},[t._v(" 删除 ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":t.form.pageNumber,layout:"prev, pager, next,jumper",total:t.total,"page-size":t.form.pageSize},on:{"current-change":t.currentChange}})],1)],1)])},n=[],r=(a(7658),a(1392)),s={data(){return{tableData:[],form:{pageNumber:1,pageSize:10,isPaging:!0},total:0,input:""}},created(){this.getList()},methods:{currentChange(t){this.form.pageNumber=t,this.getList()},getList(){(0,r.yN)(this.form).then((t=>{0===t.data.code?(this.total=t.data.data.amount,this.tableData=t.data.data.rows.map((t=>t.activityRow))):(this.total=0,this.tableData=[],this.form.pageNumber=1)}))},add(){this.$router.push({path:"/eventManagement/eventManagementAddOrEdit",query:{type:"add"}})},editDuty(t){this.$router.push({path:"/eventManagement/eventManagementAddOrEdit",query:{type:"edit",id:t.id}})},previewDuty(t){this.$router.push({path:"/eventManagement/eventManagementAddOrEdit",query:{type:"preview",id:t.id}})},deleteDuty(t){this.$confirm("此操作将永久删除该活动, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.activeDelete(t.id)})).catch((()=>{}))},activeDelete(t){(0,r.bC)({id:t}).then((t=>{0==t.data.code?(this.$message.success("删除成功"),this.getList()):this.$message.error(`${t.data.message},${t.data.detail}`)}))}}},u=s,l=a(1001),c=(0,l.Z)(u,i,n,!1,null,"107de328",null),o=c.exports},1392:function(t,e,a){a.d(e,{Ht:function(){return s},JU:function(){return n},aX:function(){return u},bC:function(){return l},yN:function(){return r}});var i=a(8108);const n=t=>(0,i.xW)("/activity/publish",t),r=t=>(0,i.FP)("/activity/list",t),s=t=>(0,i.FP)("/activity/detail",t),u=t=>(0,i.xW)("/activity/update",t),l=t=>(0,i.xW)("/activity/delete",t)}}]);
//# sourceMappingURL=228.1a78655c.js.map