"use strict";(self["webpackChunkvue2_0"]=self["webpackChunkvue2_0"]||[]).push([[658],{9658:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"container-title"},[e._v(e._s("add"==e.type?"新增":"编辑")+"投票活动")]),t("div",{staticClass:"form-box"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"商品名称",required:""}},[t("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t("el-form-item",{attrs:{label:"商品简介"}},[t("el-input",{attrs:{disabled:e.disabled,type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),t("el-form-item",{attrs:{label:"单位",required:""}},[t("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),t("el-form-item",{attrs:{label:"兑换积分",required:""}},[t("el-input",{attrs:{type:"number",disabled:e.disabled},model:{value:e.form.score,callback:function(t){e.$set(e.form,"score",t)},expression:"form.score"}})],1),t("el-form-item",{attrs:{label:"库存",required:""}},[t("el-input",{attrs:{type:"number",disabled:e.disabled},model:{value:e.form.stock,callback:function(t){e.$set(e.form,"stock",t)},expression:"form.stock"}})],1),t("el-form-item",{attrs:{label:"商品轮播图",required:""}},[t("div",[t("imgList"),t("el-upload",{ref:"upload",attrs:{action:e.url,multiple:"","file-list":e.fileList1,accept:".png,.jpeg,.jpg",headers:e.headers,"on-success":e.swiperSuccess,"on-remove":e.swiperRemoves}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)]),t("el-form-item",{attrs:{label:"商品封面图",required:""}},[t("div",[t("imgList"),t("el-upload",{ref:"upload",attrs:{action:e.url,multiple:"","file-list":e.fileList1,accept:".png,.jpeg,.jpg",headers:e.headers,"on-success":e.swiperSuccess,"on-remove":e.swiperRemoves}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)]),t("el-form-item",{attrs:{label:"商品详情图"}},[t("div",[t("imgList"),t("el-upload",{ref:"upload",attrs:{action:e.url,multiple:"","file-list":e.fileList1,accept:".png,.jpeg,.jpg",headers:e.headers,"on-success":e.swiperSuccess,"on-remove":e.swiperRemoves}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)]),t("el-form-item",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("保存")]),t("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)])},l=[],r=s(6304),a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"img-box-list"},[t("div",{staticClass:"img-box"},[t("i",{staticClass:"el-icon-delete-solid img-delete",on:{click:e.deletes}}),t("div",{staticClass:"img-detail"},[t("img",{staticClass:"Img",attrs:{src:"https://img.zcool.cn/community/01cg90jomzj40ol1w7fzzp3339.gif",alt:"头像"},on:{click:e.preview}})])]),e._m(0)]),t("el-dialog",{attrs:{title:"预览",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"preview-img-box"},[t("img",{staticClass:"preview-img",attrs:{src:"https://img.zcool.cn/community/01cg90jomzj40ol1w7fzzp3339.gif",alt:"头像"}})])])],1)},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"img-box"},[t("i",{staticClass:"el-icon-delete-solid img-delete"}),t("div",{staticClass:"img-detail"},[t("img",{staticClass:"Img",attrs:{src:"https://img.zcool.cn/community/01cg90jomzj40ol1w7fzzp3339.gif",alt:"头像"}})])])}],c={data(){return{dialogVisible:!1}},methods:{deletes(){console.log("???s")},preview(){this.dialogVisible=!0}}},m=c,d=s(1001),n=(0,d.Z)(m,a,o,!1,null,"516fea3d",null),u=n.exports;const p={COVER:"cover",THUMB:"thumb",SWIPER:"swiper",DETAIL:"detail"};console.log(p);var f={components:{imgList:u},data(){return{disabled:!1,loading:!1,form:{name:"",categoryId:"",unit:"",score:"",stock:""},type:"",headers:{"ysxf-auth-data":this.$store.state.userData,"ysxf-upload-data":JSON.stringify({category:"shop"})},url:`${r.Z.URL}/file/upload/cos`,fileList1:[]}},created(){const{type:e,id:t}=this.$route.query;this.type=e,"edit"!=e&&"preview"!=e||!t||(this.id=t),"preview"==e&&(this.disabled=!0)},methods:{save(){},back(){this.$router.go(-1)},swiperSuccess(e){console.log(e)},swiperRemoves(){},saveHandler(){return this.form.name?this.form.categoryId?this.form.unit?this.form.score?!!this.form.stock||(this.$message.error("请填写商品库存"),!1):(this.$message.error("请填写商品兑换积分"),!1):(this.$message.error("请填写商品单位"),!1):(this.$message.error("请选择商品所属分类"),!1):(this.$message.error("请填写商品名称"),!1)}}},g=f,v=(0,d.Z)(g,i,l,!1,null,"468075be",null),b=v.exports}}]);
//# sourceMappingURL=658.e679a9b3.js.map