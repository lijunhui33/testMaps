{"version":3,"file":"js/508.0bdac7ae.js","mappings":"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","sources":["webpack://vue2.0/./src/view/eventManagement/eventManagementAddOrEdit.vue","webpack://vue2.0/./src/view/eventManagement/addressModal.vue","webpack://vue2.0/src/view/eventManagement/addressModal.vue","webpack://vue2.0/./src/view/eventManagement/addressModal.vue?c557","webpack://vue2.0/./src/view/eventManagement/addressModal.vue?5ee1","webpack://vue2.0/src/view/eventManagement/eventManagementAddOrEdit.vue","webpack://vue2.0/./src/view/eventManagement/eventManagementAddOrEdit.vue?b57d","webpack://vue2.0/./src/view/eventManagement/eventManagementAddOrEdit.vue?4228","webpack://vue2.0/./src/api/active.js","webpack://vue2.0/./src/utils/timerHandler.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container-title\"},[_vm._v(_vm._s(_vm.type == 'add' ? '新增':'编辑')+\"活动\")]),_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入活动名称\",\"disabled\":_vm.disabled},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活动标签\"}},[_c('div',[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容后点击右侧按钮添加标签\",\"disabled\":_vm.disabled},model:{value:(_vm.tag),callback:function ($$v) {_vm.tag=$$v},expression:\"tag\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabled),expression:\"!disabled\"}],staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.addTag}},[_vm._v(\"点击添加标签\")])],1),(_vm.tagList.length)?_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"*标签点击删除\")]):_vm._e(),_c('div',{staticClass:\"tag-list\"},_vm._l((_vm.tagList),function(item,index){return _c('el-button',{key:item,staticClass:\"tag\",attrs:{\"disabled\":_vm.disabled,\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteTag(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)])]),_c('el-form-item',{attrs:{\"label\":\"任务时间\",\"required\":\"\"}},[_c('el-date-picker',{attrs:{\"disabled\":_vm.disabled,\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.taskTime),callback:function ($$v) {_vm.taskTime=$$v},expression:\"taskTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"报名截止时间\",\"required\":\"\"}},[_c('el-date-picker',{attrs:{\"disabled\":_vm.disabled,\"type\":\"datetime\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.deadline),callback:function ($$v) {_vm.deadline=$$v},expression:\"deadline\"}})],1),_c('el-form-item',{attrs:{\"label\":\"任务区域\",\"required\":\"\"}},[_c('el-select',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请选择\"},model:{value:(_vm.form.areaId),callback:function ($$v) {_vm.$set(_vm.form, \"areaId\", $$v)},expression:\"form.areaId\"}},_vm._l((_vm.addressList),function(item){return _c('el-option',{key:item.value,staticClass:\"search-item-inp\",attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('span',{staticStyle:{\"font-size\":\"12px\",\"margin-left\":\"10px\",\"color\":\"#606266\"}},[_vm._v(\"*新增任务区域可从系统管理 => 区域管理中新增\")])],1),_c('el-form-item',{attrs:{\"label\":\"任务积分\",\"required\":\"\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"完成后获得的任务积分\",\"type\":\"number\"},model:{value:(_vm.form.score),callback:function ($$v) {_vm.$set(_vm.form, \"score\", $$v)},expression:\"form.score\"}})],1),_c('el-form-item',{attrs:{\"label\":\"需要的志愿者总数\",\"required\":\"\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"type\":\"number\",\"placeholder\":\"请输入需要志愿者数量\"},model:{value:(_vm.form.needAmount),callback:function ($$v) {_vm.$set(_vm.form, \"needAmount\", $$v)},expression:\"form.needAmount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活动内容\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"type\":\"textarea\",\"autosize\":{ minRows: 6, maxRows: 10}},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabled),expression:\"!disabled\"}],attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)],1)],1),(_vm.addressVisible)?_c('select-address',{ref:\"selectAddressRef\",attrs:{\"visible\":_vm.addressVisible},on:{\"ok\":_vm.handleSelectAddress,\"cancel\":function($event){_vm.addressVisible = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"选择位置\",\"width\":\"800px\",\"visible\":_vm.visible,\"confirmLoading\":_vm.loading},on:{\"close\":() => { _vm.$emit('cancel') }}},[_c('div',{staticStyle:{\"height\":\"500px\",\"width\":\"100%\",\"text-align\":\"center\",\"line-height\":\"500px\",\"font-size\":\"20px\"},attrs:{\"id\":\"container\"}},[_vm._v(\"加载中... \")]),(!_vm.disabled)?[_c('div',{staticStyle:{\"display\":\"flex\",\"margin\":\"20px 0\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入地名\"},model:{value:(_vm.selectAddressName),callback:function ($$v) {_vm.selectAddressName=$$v},expression:\"selectAddressName\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSearch(_vm.selectAddressName)}}},[_vm._v(\"搜索\")])],1)]:_vm._e(),(!_vm.disabled)?[_c('el-select',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"请选择地址\"},model:{value:(_vm.addressValue),callback:function ($$v) {_vm.addressValue=$$v},expression:\"addressValue\"}},_vm._l((_vm.resMapList),function(d,index){return _c('el-option',{key:d.id,staticStyle:{\"background-color\":\"#fff\"},attrs:{\"label\":d.name,\"value\":d.id},on:{\"click\":function($event){return _vm.handleChange(d, index)}}},[_c('div',{staticStyle:{\"color\":\"#333\",\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(d.name)+\" \")]),_c('div',{staticStyle:{\"color\":\"#666\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(d.address)+\" \")])])}),1),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"color\":\"#333\"}},[_vm._v(\"已选：\"+_vm._s(_vm.address)+\"（\"+_vm._s(_vm.addressName)+\"）\")]),(_vm.remark)?_c('div',{staticStyle:{\"margin-top\":\"10px\",\"color\":\"#333\"}},[_vm._v(_vm._s(_vm.remark))]):_vm._e()]:_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":() => {_vm.$emit('cancel')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":() => { _vm.$emit('ok', { addressName: _vm.addressName, address: _vm.address, location: _vm.location }) }}},[_vm._v(\"确 定\")])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog title=\"选择位置\" width=\"800px\" :visible=\"visible\" :confirmLoading=\"loading\" @close=\"() => { $emit('cancel') }\">\r\n        <div id=\"container\" style=\"height: 500px;width: 100%;text-align: center;line-height: 500px;font-size: 20px;\">加载中...\r\n        </div>\r\n        <template v-if=\"!disabled\">\r\n            <div style=\"display: flex;margin: 20px 0;\">\r\n                <el-input v-model=\"selectAddressName\" placeholder=\"输入地名\"></el-input>\r\n                <el-button style=\"margin-left: 10px\" type=\"primary\" @click=\"onSearch(selectAddressName)\">搜索</el-button>\r\n            </div>\r\n        </template>\r\n        <template v-if=\"!disabled\">\r\n            <el-select v-model=\"addressValue\" placeholder=\"请选择地址\" style=\"width: 50%\">\r\n                <el-option v-for=\"(d, index) in resMapList\" style=\"background-color: #fff;\" :key=\"d.id\" :label=\"d.name\" :value=\"d.id\" @click=\"handleChange(d, index)\">\r\n                    <div style=\"color: #333;font-weight: bold;\">\r\n                        {{ d.name }}\r\n                    </div>\r\n                    <div style=\"color: #666; font-size: 13px;\">\r\n                        {{ d.address }}\r\n                    </div>\r\n                </el-option>\r\n            </el-select>\r\n            <div style=\"margin-top: 10px;color: #333;\">已选：{{ address }}（{{ addressName }}）</div>\r\n            <div v-if=\"remark\" style=\"margin-top: 10px;color: #333;\">{{ remark }}</div>\r\n        </template>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"() => {$emit('cancel')}\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"() => { $emit('ok', { addressName, address, location }) }\">确 定</el-button>\r\n        </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nconst qq = window.qq;\r\nexport default {\r\n    props: {\r\n        visible: {\r\n            type: Boolean,\r\n            required: true\r\n        },\r\n        // 禁用后只支持查看位置\r\n        disabled: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 自定义描述内容\r\n        remark: {\r\n            type: String,\r\n            default: \"\"\r\n        },\r\n        // 默认雅韶镇\r\n        lat: {\r\n            type: Number,\r\n            default: 21.820949\r\n        },\r\n        lng: {\r\n            type: Number,\r\n            default: 112.052254\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            loading: false,\r\n            map: null,\r\n            resMapList: [],\r\n            addressValue: undefined,\r\n            marker: null,\r\n            location: null,\r\n            address: \"广东省阳江市阳东区\",\r\n            addressName: \"雅韶镇\",\r\n            openStatus: false,\r\n            selectAddressName: ''\r\n        };\r\n    },\r\n    mounted () {\r\n        // 初始化经纬度，最开始的点\r\n        const myLatlng = new qq.maps.LatLng(this.lat, this.lng);\r\n        // 设置地图属性\r\n        const myOptions = {\r\n            zoom: 15,\r\n            center: myLatlng,\r\n            mapTypeId: qq.maps.MapTypeId.ROADMAP\r\n        };\r\n        // 创建地图，绑定dom\r\n        setTimeout(() => {\r\n            const that = this;\r\n            const map = new qq.maps.Map(document.getElementById(\"container\"), myOptions);\r\n            this.map = map;\r\n            // 现实已经存在的点\r\n            let marker = null;\r\n            if (this.lat) {\r\n                marker = new qq.maps.Marker({\r\n                    position: myLatlng,\r\n                    map: map\r\n                });\r\n            }\r\n            this.map = map;\r\n            this.marker = marker;\r\n            this.location = {\r\n                lat: this.lat,\r\n                lng: this.lng\r\n            };\r\n            qq.maps.event.addListener(map, \"click\", function (event) {\r\n                if (this.disabled) {\r\n                    return;\r\n                }\r\n                // 获取详细地址回调\r\n                const geocoder = new qq.maps.Geocoder({\r\n                    complete: (result) => {\r\n                        // that.dialogForm.attendPointAddress = result.detail.address;\r\n                        that.resMapList = result.detail.nearPois || [];\r\n                        that.address = result.detail.address;\r\n                        that.location = result.detail.location;\r\n\r\n\r\n                        if (result.detail.nearPois && result.detail.nearPois.length > 0) {\r\n                            that.addressValue = result.detail.nearPois[0].id;\r\n                            const data = result.detail.nearPois[0];\r\n                            that.address = data.address;\r\n                            that.addressName = data.name;\r\n                            this.location = {\r\n                                lat: data.lat,\r\n                                lng: data.lng\r\n                            };\r\n                        }\r\n                        // console.log(result.detail)\r\n                    }\r\n                });\r\n                if (marker) {\r\n                    marker.setMap(null);\r\n                }\r\n                if (that.marker) {\r\n                    that.marker.setMap(null);\r\n                }\r\n                // 点击出现标记\r\n                marker = new qq.maps.Marker({\r\n                    position: event.latLng,\r\n                    map: map\r\n                });\r\n                map.setZoom(20);\r\n                map.setCenter(event.latLng);\r\n                // eslint-disable-next-line no-new\r\n                new qq.maps.LatLng();\r\n                const a = new qq.maps.LatLng(\r\n                    event.latLng.getLat(),\r\n                    event.latLng.getLng()\r\n                );\r\n                geocoder.getAddress(a);\r\n            });\r\n        }, 500);\r\n    },\r\n    methods: {\r\n        onSearch (name) {\r\n            const that = this;\r\n            this.addressValue = undefined;\r\n            const searchService = new qq.maps.SearchService({\r\n                complete: function (results) {\r\n                    if (results.type === \"CITY_LIST\") {\r\n                        searchService.setLocation(results.detail.cities[0].cityName);\r\n                        if (name) {\r\n                            searchService.search(name);\r\n                        } else {\r\n                            searchService.search(that.state.mapKeywords);\r\n                        }\r\n                        return;\r\n                    }\r\n                    const pois = results.detail.pois;\r\n                    // console.log(pois)\r\n                    that.resMapList = pois;\r\n                    // that.setState({\r\n                    //   resMapList: pois,\r\n                    //   visible: true\r\n                    // })\r\n                    const latlngBounds = new qq.maps.LatLngBounds();\r\n                    for (let i = 0, l = pois.length; i < l; i++) {\r\n                        const poi = pois[i];\r\n                        latlngBounds.extend(poi.latLng);\r\n                    }\r\n                    that.map.fitBounds(latlngBounds);\r\n                }\r\n            });\r\n            searchService.search(name);\r\n        },\r\n        handleChange (item, index) {\r\n            this.addressValue = index;\r\n            this.addressName = item.name;\r\n            this.mapKeywords = item.name;\r\n            this.map.setCenter(item.latLng);\r\n            this.map.setZoom(20);\r\n            if (this.marker) {\r\n                this.marker.setMap(null);\r\n            }\r\n            // console.log(item.latLng)\r\n            this.marker = new qq.maps.Marker({\r\n                position: item.latLng,\r\n                map: this.map\r\n            });\r\n            this.address = item.address;\r\n            this.location = item.latLng;\r\n        }\r\n    }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addressModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addressModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addressModal.vue?vue&type=template&id=30cb175d&\"\nimport script from \"./addressModal.vue?vue&type=script&lang=js&\"\nexport * from \"./addressModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"container\">\r\n        <div class=\"container-title\">{{type == 'add' ? '新增':'编辑'}}活动</div>\r\n        <div class=\"form-box\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\r\n                <el-form-item label=\"活动名称\" required>\r\n                    <el-input v-model=\"form.title\" placeholder=\"请输入活动名称\" :disabled=\"disabled\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"活动标签\">\r\n                    <div>\r\n                        <div style=\"display: flex\">\r\n                            <el-input placeholder=\"请输入内容后点击右侧按钮添加标签\" v-model=\"tag\" :disabled=\"disabled\"></el-input>\r\n                            <el-button v-show=\"!disabled\" style=\"margin-left: 10px\" @click=\"addTag\" type=\"text\">点击添加标签</el-button>\r\n                        </div>\r\n                        <div v-if=\"tagList.length\" style=\"margin-top: 10px\">*标签点击删除</div>\r\n                        <div class=\"tag-list\">\r\n                            <el-button :disabled=\"disabled\" size=\"mini\" class=\"tag\" v-for=\"(item,index) in tagList\" :key=\"item\" @click=\"deleteTag(index)\">\r\n                                {{item}}\r\n                            </el-button>\r\n                        </div>\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"任务时间\" required>\r\n                    <el-date-picker :disabled=\"disabled\" v-model=\"taskTime\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"报名截止时间\" required>\r\n                    <el-date-picker :disabled=\"disabled\" v-model=\"deadline\" type=\"datetime\" placeholder=\"选择日期\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"任务区域\" required>\r\n                    <el-select :disabled=\"disabled\" v-model=\"form.areaId\" placeholder=\"请选择\">\r\n                        <el-option class=\"search-item-inp\" v-for=\"item in addressList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    <span style=\"font-size:12px;margin-left:10px;color: #606266\">*新增任务区域可从系统管理 => 区域管理中新增</span>\r\n                </el-form-item>\r\n                <el-form-item label=\"任务积分\" required>\r\n                    <el-input :disabled=\"disabled\" placeholder=\"完成后获得的任务积分\" type=\"number\" v-model=\"form.score\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"需要的志愿者总数\" required>\r\n                    <el-input :disabled=\"disabled\" type=\"number\" placeholder=\"请输入需要志愿者数量\" v-model=\"form.needAmount\"></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"详细地址\">\r\n                    <div style=\"display: flex;\">\r\n                        <el-input disabled v-model=\"addressStr\"></el-input>\r\n                        <el-button type=\"text\" style=\"margin-left: 10px;\" @click=\"addressVisible = true\">选择</el-button>\r\n                    </div>\r\n                </el-form-item> -->\r\n                <el-form-item label=\"活动内容\">\r\n                    <!-- <el-input type=\"textarea\" :autosize=\"{ minRows: 6, maxRows: 10}\" placeholder=\"请输入内容\"> -->\r\n                    <el-input :disabled=\"disabled\" type=\"textarea\" :autosize=\"{ minRows: 6, maxRows: 10}\" v-model=\"form.content\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button v-show=\"!disabled\" type=\"primary\" @click=\"save\" :loading=\"loading\">保存</el-button>\r\n                    <el-button @click=\"back\">返回</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <select-address v-if=\"addressVisible\" ref=\"selectAddressRef\" :visible=\"addressVisible\" @ok=\"handleSelectAddress\" @cancel=\"addressVisible = false\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { activePublish, activeDetail, activeUpdate } from '@/api/active';\r\nimport selectAddress from '@/view/eventManagement/addressModal.vue';\r\nimport timerHandler from '@/utils/timerHandler';\r\nexport default {\r\n    components: {\r\n        selectAddress,\r\n    },\r\n    data () {\r\n        return {\r\n            type: '',\r\n            form: {\r\n                title: '',\r\n                content: '',\r\n                areaId: '',\r\n                score: null,\r\n                needAmount: null,\r\n            },\r\n            tag: '',\r\n            tagList: [],\r\n            taskTime: [],\r\n            deadline: '',\r\n            loading: false,\r\n            addressVisible: false,\r\n            address: {\r\n                province: '广东省',\r\n                city: '阳江市', // 城市\r\n                district: '阳东区', // 行政区\r\n                districtCode: '', // 行政区代号\r\n                address: '雅韶镇', // 详细地址\r\n                geographyInfo: { lat: 21.820949, lng: 112.052254 }, // 地理信息\r\n            }, // 联系地址\r\n            addressStr: '广东省阳江市阳东区雅韶镇',\r\n            disabled: false\r\n        };\r\n    },\r\n    created () {\r\n        this.addressList = this.$store.state.addressList;\r\n        const { type, id } = this.$route.query;\r\n        this.type = type;\r\n        if ((type == 'edit' || type == 'preview') && id) {\r\n            this.id = id;\r\n            this.getDetail();\r\n        }\r\n        if (type == 'preview') {\r\n            this.disabled = true;\r\n        }\r\n    },\r\n    methods: {\r\n        getDetail () {\r\n            activeDetail({ activityId: this.id }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    const { activityRow } = res.data.data;\r\n                    const { title, tagList, beginTime, endTime, deadline, areaId, score, needAmount, content } = activityRow;\r\n                    console.log(activityRow);\r\n                    this.form.title = title;\r\n                    this.tagList = tagList.length ? tagList.split(',') : [];\r\n                    if (beginTime && endTime) {\r\n                        this.taskTime = [timerHandler(beginTime), timerHandler(endTime)];\r\n                    }\r\n                    if (deadline) {\r\n                        this.deadline = timerHandler(deadline);\r\n                    }\r\n                    this.form.areaId = `${areaId}`;\r\n                    this.form.score = score;\r\n                    this.form.needAmount = needAmount;\r\n                    this.form.content = content;\r\n                } else {\r\n                    this.$message.warning('请求详情失败');\r\n                }\r\n            });\r\n        },\r\n        back () {\r\n            this.$router.go(-1);\r\n        },\r\n        addTag () {\r\n            if (this.tag) {\r\n                if (this.tagList.indexOf(this.tag) === -1) {\r\n                    this.tagList.push(this.tag);\r\n                    this.tag = '';\r\n                } else {\r\n                    this.$message.error('重复标签');\r\n                }\r\n            }\r\n        },\r\n        save () {\r\n            if (this.type === 'add') {\r\n                this.activePublish();\r\n            } else {\r\n                this.activeUpdate();\r\n            }\r\n        },\r\n        activeUpdate () {\r\n            if (!this.form.title) {\r\n                this.$message.error('请填写标题');\r\n                return;\r\n            }\r\n            if (!this.taskTime.length) {\r\n                this.$message.error('请选择任务时间');\r\n                return;\r\n            }\r\n            if (!this.deadline) {\r\n                this.$message.error('请选择任务截止时间');\r\n                return;\r\n            }\r\n            if (!this.form.areaId) {\r\n                this.$message.error('请选择任务区域');\r\n                return;\r\n            }\r\n            if (!this.form.score) {\r\n                this.$message.error('请填写任务积分');\r\n                return;\r\n            }\r\n            if (!this.form.needAmount) {\r\n                this.$message.error('请填写需要志愿者人数');\r\n                return;\r\n            }\r\n            const beginTime = this.taskTime[0] ? new Date(this.taskTime[0]).getTime() : '';\r\n            const endTime = this.taskTime[1] ? new Date(this.taskTime[1]).getTime() : '';\r\n            const deadline = this.deadline ? new Date(this.deadline).getTime() : '';\r\n            const params = {\r\n                title: this.form.title,\r\n                tagList: this.tagList.join(','),\r\n                content: this.form.content,\r\n                beginTime,\r\n                endTime,\r\n                deadline,\r\n                areaId: this.form.areaId,\r\n                score: this.form.score,\r\n                needAmount: this.form.needAmount,\r\n                id: this.id\r\n                // address: this.address\r\n            };\r\n            // console.log(params);\r\n            this.loading = true;\r\n            activeUpdate(params).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.$message.success('更新成功');\r\n                    setTimeout(() => {\r\n                        this.$router.go(-1);\r\n                    }, 2000);\r\n                } else {\r\n                    this.$message.error(`${res.data.message},${res.data.detail}`);\r\n                }\r\n                this.loading = false;\r\n            }).catch(() => {\r\n                this.loading = false;\r\n            });\r\n        },\r\n        activePublish () {\r\n            if (!this.form.title) {\r\n                this.$message.error('请填写标题');\r\n                return;\r\n            }\r\n            if (!this.taskTime.length) {\r\n                this.$message.error('请选择任务时间');\r\n                return;\r\n            }\r\n            if (!this.deadline) {\r\n                this.$message.error('请选择任务截止时间');\r\n                return;\r\n            }\r\n            if (!this.form.areaId) {\r\n                this.$message.error('请选择任务区域');\r\n                return;\r\n            }\r\n            if (!this.form.score) {\r\n                this.$message.error('请填写任务积分');\r\n                return;\r\n            }\r\n            if (!this.form.needAmount) {\r\n                this.$message.error('请填写需要志愿者人数');\r\n                return;\r\n            }\r\n            const beginTime = this.taskTime[0] ? new Date(this.taskTime[0]).getTime() : '';\r\n            const endTime = this.taskTime[1] ? new Date(this.taskTime[1]).getTime() : '';\r\n            const deadline = this.deadline ? new Date(this.deadline).getTime() : '';\r\n            const params = {\r\n                title: this.form.title,\r\n                tagList: this.tagList.join(','),\r\n                content: this.form.content,\r\n                beginTime,\r\n                endTime,\r\n                deadline,\r\n                areaId: this.form.areaId,\r\n                score: this.form.score,\r\n                needAmount: this.form.needAmount,\r\n                // address: this.address\r\n            };\r\n            // console.log(params);\r\n            this.loading = true;\r\n            activePublish(params).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.$message.success('发布成功');\r\n                    setTimeout(() => {\r\n                        this.$router.go(-1);\r\n                    }, 2000);\r\n                } else {\r\n                    this.$message.error(`${res.data.message},${res.data.detail}`);\r\n                }\r\n                this.loading = false;\r\n            }).catch(() => {\r\n                this.loading = false;\r\n            });\r\n        },\r\n        deleteTag (index) {\r\n            this.tagList.splice(index, 1);\r\n        },\r\n        // 选择地图的回调\r\n        handleSelectAddress (data) {\r\n            const address = this.strAddress(data.address);\r\n            this.address.province = address[0];\r\n            this.address.city = address[1];\r\n            this.address.district = address[2];\r\n            this.address.geographyInfo = data.location;\r\n            this.address.address = data.addressName;\r\n            this.addressStr = this.address.province + this.address.city + this.address.district + this.address.address;\r\n            this.addressVisible = false;\r\n        },\r\n        strAddress (str) {\r\n            let strS = str;\r\n            const reg = /.+?(省|市|自治区|自治州|行政区|盟|旗|县|区)/g; // 省市区的正则\r\n            const area = strS.match(reg); // 分割省市区\r\n            return area;\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.form-box {\r\n    width: 50%;\r\n    margin-top: 20px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.tag-list {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.tag {\r\n    margin-top: 20px;\r\n    margin-right: 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./eventManagementAddOrEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./eventManagementAddOrEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./eventManagementAddOrEdit.vue?vue&type=template&id=095b43ce&scoped=true&\"\nimport script from \"./eventManagementAddOrEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./eventManagementAddOrEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./eventManagementAddOrEdit.vue?vue&type=style&index=0&id=095b43ce&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"095b43ce\",\n  null\n  \n)\n\nexport default component.exports","import { postAxios, getAxios } from '../utils/http';\r\n\r\n// 发布活动\r\nexport const activePublish = (params) => {\r\n    return postAxios('/activity/publish', params);\r\n};\r\n\r\n// 活动列表\r\nexport const activeList = (params) => {\r\n    return getAxios('/activity/list', params);\r\n};\r\n\r\n// 活动详情\r\nexport const activeDetail = (params) => {\r\n    return getAxios('/activity/detail', params);\r\n};\r\n\r\n// 更新活动\r\nexport const activeUpdate = (params) => {\r\n    return postAxios('/activity/update', params);\r\n};\r\n\r\n// 删除活动\r\nexport const activeDelete = (params) => {\r\n    return postAxios('/activity/delete', params);\r\n};","const timerHandler = (str) => {\r\n    if (!str) {\r\n        return '';\r\n    }\r\n    const isBeginTen = (str) => {\r\n        return str >= 10 ? str : '0' + str;\r\n    };\r\n    const date = new Date(Number(str)); //获取一个时间对象\r\n    const year = date.getFullYear();  // 获取完整的年份(4位,1970)\r\n    const month = date.getMonth() + 1;  // 获取月份(0-11,0代表1月,用的时候记得加上1)\r\n    const day = date.getDate();  // 获取日(1-31)\r\n    const hour = date.getHours();  // 获取小时数(0-23)\r\n    const minutes = date.getMinutes();  // 获取分钟数(0-59)\r\n    const seconds = date.getSeconds();\r\n    return year + '-' + isBeginTen(month) + '-' + isBeginTen(day) + ' ' + isBeginTen(hour) + ':' + isBeginTen(minutes) + ':' + isBeginTen(seconds);\r\n};\r\n\r\n\r\n\r\nexport default timerHandler;"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","type","ref","attrs","form","disabled","model","value","title","callback","$$v","$set","expression","staticStyle","tag","directives","name","rawName","on","addTag","tagList","length","_e","_l","item","index","key","$event","deleteTag","taskTime","deadline","areaId","addressList","label","score","needAmount","minRows","maxRows","content","loading","save","back","addressVisible","handleSelectAddress","staticRenderFns","visible","$emit","selectAddressName","onSearch","addressValue","resMapList","d","id","handleChange","address","addressName","remark","slot","location","qq","window","props","required","default","lat","lng","data","map","marker","openStatus","mounted","zoom","center","mapTypeId","setTimeout","position","complete","that","event","geocoder","methods","searchService","latlngBounds","component","components","selectAddress","province","city","district","districtCode","geographyInfo","addressStr","created","getDetail","activeDetail","activityId","activityRow","beginTime","endTime","console","activeUpdate","catch","activePublish","strAddress","params","postAxios","activeList","getAxios","activeDelete","timerHandler","str","isBeginTen","date","Date","Number","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds"],"sourceRoot":""}